<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>运动</title>
    <style type="text/css">
        canvas{
            border: 1px solid #000;
        }
    </style>
</head>
<body>
    <!-- 这里canvas的宽高必须设置在这标签内，设置在style里面，页面会变形 -->
    <canvas width="800" height="500" id="myCanvas">
        对不起，您的浏览器不支持画布，请升级浏览器！
    </canvas>
    <script type="text/javascript" src="../js/sys.js"></script>
    <script type="text/javascript">
        // 得到画布标签
        var myCanvas = document.querySelector("#myCanvas");
        // 上下文，就相当于打开Photoshop之后让你新建画布
        var ctx = myCanvas.getContext("2d");
        // 今后的操作都是这个画布的事情，都是ctx的事情，和myCanvas没有关系了。
        var imagesObj = {
            'wlwz':'../images/wlwz.png',
            'swp':'../images/swp.png'
        }
        var R = {};
        var count = 0;
        for(var k in imagesObj){
            // 创建图片节点
            R[k] = new Image();
            // 设置src
            R[k].src = imagesObj[k];
            // 监听是否load
            R[k].onload = function(){
                count ++
                if(count == 2){
                    var i = 0;
                    var j = 0;
                    setInterval(function(){
                        if(i > 3) i = 0;
                        if(j > 20) j = 0;
                        ctx.clearRect(0,0,800,600);
                        ctx.drawImage(R.wlwz,32*i,48*2,32,48,32*j,0,128,192);
                        ctx.drawImage(R.swp,32*i,48*1,32,48,700-32*j,100,128,192);
                        i++,j++;
                    },200);
                }
            }
        }
    </script>
</body>
</html>